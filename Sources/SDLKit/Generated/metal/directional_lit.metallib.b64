Ly8gZmFrZSBtZXRhbGxpYiBwbGFjZWhvbGRlcgovLyBmYWtlIG1ldGFsIEFJUiBwbGFjZWhvbGRl
cgojaW5jbHVkZSA8bWV0YWxfc3RkbGliPgojaW5jbHVkZSA8c2ltZC9zaW1kLmg+Cgp1c2luZyBu
YW1lc3BhY2UgbWV0YWw7CgpzdHJ1Y3QgdHlwZV9Db25zdGFudEJ1ZmZlcl9TY2VuZUNvbnN0YW50
cwp7CiAgICBmbG9hdDR4NCBtb2RlbE1hdHJpeDsKICAgIGZsb2F0NHg0IHZpZXdQcm9qZWN0aW9u
TWF0cml4OwogICAgZmxvYXQ0eDQgbGlnaHRWaWV3UHJvamVjdGlvbk1hdHJpeDsKICAgIGZsb2F0
NCBsaWdodERpcmVjdGlvbkludGVuc2l0eTsKICAgIGZsb2F0NCBsaWdodENvbG9yOwogICAgZmxv
YXQ0IGFtYmllbnRDb2xvcjsKfTsKCnN0cnVjdCBkaXJlY3Rpb25hbF9saXRfdnNfb3V0CnsKICAg
IGZsb2F0MyBvdXRfdmFyX05PUk1BTCBbW3VzZXIobG9jbjApXV07CiAgICBmbG9hdDMgb3V0X3Zh
cl9QT1NJVElPTjAgW1t1c2VyKGxvY24xKV1dOwogICAgZmxvYXQyIG91dF92YXJfVEVYQ09PUkQw
IFtbdXNlcihsb2NuMildXTsKICAgIGZsb2F0NCBvdXRfdmFyX1RFWENPT1JEMSBbW3VzZXIobG9j
bjMpXV07CiAgICBmbG9hdDQgZ2xfUG9zaXRpb24gW1twb3NpdGlvbl1dOwp9OwoKc3RydWN0IGRp
cmVjdGlvbmFsX2xpdF92c19pbgp7CiAgICBmbG9hdDMgaW5fdmFyX1BPU0lUSU9OIFtbYXR0cmli
dXRlKDApXV07CiAgICBmbG9hdDMgaW5fdmFyX05PUk1BTCBbW2F0dHJpYnV0ZSgxKV1dOwogICAg
ZmxvYXQyIGluX3Zhcl9URVhDT09SRDAgW1thdHRyaWJ1dGUoMildXTsKfTsKCnZlcnRleCBkaXJl
Y3Rpb25hbF9saXRfdnNfb3V0IGRpcmVjdGlvbmFsX2xpdF92cyhkaXJlY3Rpb25hbF9saXRfdnNf
aW4gaW4gW1tzdGFnZV9pbl1dLCBjb25zdGFudCB0eXBlX0NvbnN0YW50QnVmZmVyX1NjZW5lQ29u
c3RhbnRzJiBTY2VuZUNCIFtbYnVmZmVyKDApXV0pCnsKICAgIGRpcmVjdGlvbmFsX2xpdF92c19v
dXQgb3V0ID0ge307CiAgICBmbG9hdDQgXzQzID0gZmxvYXQ0KGluLmluX3Zhcl9QT1NJVElPTiwg
MS4wKSAqIFNjZW5lQ0IubW9kZWxNYXRyaXg7CiAgICBvdXQuZ2xfUG9zaXRpb24gPSBfNDMgKiBT
Y2VuZUNCLnZpZXdQcm9qZWN0aW9uTWF0cml4OwogICAgb3V0Lm91dF92YXJfTk9STUFMID0gZmFz
dDo6bm9ybWFsaXplKGluLmluX3Zhcl9OT1JNQUwgKiBmbG9hdDN4MyhmbG9hdDQoU2NlbmVDQi5t
b2RlbE1hdHJpeFswXVswXSwgU2NlbmVDQi5tb2RlbE1hdHJpeFsxXVswXSwgU2NlbmVDQi5tb2Rl
bE1hdHJpeFsyXVswXSwgU2NlbmVDQi5tb2RlbE1hdHJpeFszXVswXSkueHl6LCBmbG9hdDQoU2Nl
bmVDQi5tb2RlbE1hdHJpeFswXVsxXSwgU2NlbmVDQi5tb2RlbE1hdHJpeFsxXVsxXSwgU2NlbmVD
Qi5tb2RlbE1hdHJpeFsyXVsxXSwgU2NlbmVDQi5tb2RlbE1hdHJpeFszXVsxXSkueHl6LCBmbG9h
dDQoU2NlbmVDQi5tb2RlbE1hdHJpeFswXVsyXSwgU2NlbmVDQi5tb2RlbE1hdHJpeFsxXVsyXSwg
U2NlbmVDQi5tb2RlbE1hdHJpeFsyXVsyXSwgU2NlbmVDQi5tb2RlbE1hdHJpeFszXVsyXSkueHl6
KSk7CiAgICBvdXQub3V0X3Zhcl9QT1NJVElPTjAgPSBfNDMueHl6OwogICAgb3V0Lm91dF92YXJf
VEVYQ09PUkQwID0gaW4uaW5fdmFyX1RFWENPT1JEMDsKICAgIG91dC5vdXRfdmFyX1RFWENPT1JE
MSA9IF80MyAqIFNjZW5lQ0IubGlnaHRWaWV3UHJvamVjdGlvbk1hdHJpeDsKICAgIHJldHVybiBv
dXQ7Cn0KCgoKCnN0cnVjdCB0eXBlX0NvbnN0YW50QnVmZmVyX1NjZW5lQ29uc3RhbnRzCnsKICAg
IGZsb2F0NHg0IG1vZGVsTWF0cml4OwogICAgZmxvYXQ0eDQgdmlld1Byb2plY3Rpb25NYXRyaXg7
CiAgICBmbG9hdDR4NCBsaWdodFZpZXdQcm9qZWN0aW9uTWF0cml4OwogICAgZmxvYXQ0IGxpZ2h0
RGlyZWN0aW9uSW50ZW5zaXR5OwogICAgZmxvYXQ0IGxpZ2h0Q29sb3I7CiAgICBmbG9hdDQgYW1i
aWVudENvbG9yOwp9OwoKc3RydWN0IGRpcmVjdGlvbmFsX2xpdF9wc19vdXQKewogICAgZmxvYXQ0
IG91dF92YXJfU1ZfVGFyZ2V0IFtbY29sb3IoMCldXTsKfTsKCnN0cnVjdCBkaXJlY3Rpb25hbF9s
aXRfcHNfaW4KewogICAgZmxvYXQzIGluX3Zhcl9OT1JNQUwgW1t1c2VyKGxvY24wKV1dOwogICAg
ZmxvYXQyIGluX3Zhcl9URVhDT09SRDAgW1t1c2VyKGxvY24yKV1dOwogICAgZmxvYXQ0IGluX3Zh
cl9URVhDT09SRDEgW1t1c2VyKGxvY24zKV1dOwp9OwoKZnJhZ21lbnQgZGlyZWN0aW9uYWxfbGl0
X3BzX291dCBkaXJlY3Rpb25hbF9saXRfcHMoZGlyZWN0aW9uYWxfbGl0X3BzX2luIGluIFtbc3Rh
Z2VfaW5dXSwgY29uc3RhbnQgdHlwZV9Db25zdGFudEJ1ZmZlcl9TY2VuZUNvbnN0YW50cyYgU2Nl
bmVDQiBbW2J1ZmZlcigwKV1dLCB0ZXh0dXJlMmQ8ZmxvYXQ+IEFsYmVkb1RleHR1cmUgW1t0ZXh0
dXJlKDApXV0sIGRlcHRoMmQ8ZmxvYXQ+IFNoYWRvd01hcCBbW3RleHR1cmUoMSldXSwgc2FtcGxl
ciBNYXRlcmlhbFNhbXBsZXIgW1tzYW1wbGVyKDApXV0sIHNhbXBsZXIgU2hhZG93U2FtcGxlciBb
W3NhbXBsZXIoMSldXSkKewogICAgZGlyZWN0aW9uYWxfbGl0X3BzX291dCBvdXQgPSB7fTsKICAg
IGZsb2F0IF81MyA9IGZhc3Q6OmNsYW1wKGRvdChmYXN0Ojpub3JtYWxpemUoaW4uaW5fdmFyX05P
Uk1BTCksIGZhc3Q6Om5vcm1hbGl6ZShTY2VuZUNCLmxpZ2h0RGlyZWN0aW9uSW50ZW5zaXR5Lnh5
eikpLCAwLjAsIDEuMCk7CiAgICBmbG9hdDQgXzU3ID0gQWxiZWRvVGV4dHVyZS5zYW1wbGUoTWF0
ZXJpYWxTYW1wbGVyLCBpbi5pbl92YXJfVEVYQ09PUkQwKTsKICAgIGZsb2F0MyBfNjEgPSBfNTcu
eHl6OwogICAgZmxvYXQzIF82MiA9IFNjZW5lQ0IuYW1iaWVudENvbG9yLnh5eiAqIF82MTsKICAg
IGZsb2F0MyBfOTg7CiAgICBpZiAoU2NlbmVDQi5saWdodERpcmVjdGlvbkludGVuc2l0eS53ID4g
MC4wKQogICAgewogICAgICAgIGZsb2F0MyBfNzIgPSBpbi5pbl92YXJfVEVYQ09PUkQxLnh5eiAv
IGZsb2F0MyhwcmVjaXNlOjptYXgoaW4uaW5fdmFyX1RFWENPT1JEMS53LCA5Ljk5OTk5OTc0NzM3
ODc1MTYzNTU1MTQ1MjYzNjcxODhlLTA1KSk7CiAgICAgICAgZmxvYXQgXzc4ID0gKF83Mi56ICog
MC41KSArIDAuNTsKICAgICAgICBfOTggPSBfNjIgKyAoKF82MSAqIFNjZW5lQ0IubGlnaHRDb2xv
ci54eXopICogKChTY2VuZUNCLmxpZ2h0RGlyZWN0aW9uSW50ZW5zaXR5LncgKiBfNTMpICogU2hh
ZG93TWFwLnNhbXBsZV9jb21wYXJlKFNoYWRvd1NhbXBsZXIsIGZsb2F0MygoXzcyLnh5ICogMC41
KSArIGZsb2F0MigwLjUpLCBfNzgpLnh5LCBfNzggLSAoMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUz
ODk0MDQyOTY4NzUgKiAoMS4wIC0gXzUzKSksIGxldmVsKDAuMCkpKSk7CiAgICB9CiAgICBlbHNl
CiAgICB7CiAgICAgICAgXzk4ID0gXzYyOwogICAgfQogICAgb3V0Lm91dF92YXJfU1ZfVGFyZ2V0
ID0gZmxvYXQ0KF85OCwgXzU3LncpOwogICAgcmV0dXJuIG91dDsKfQo=
